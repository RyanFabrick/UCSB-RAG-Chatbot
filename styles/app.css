/* Main app background styling with UCSB gold */
.stApp {
    background-color: #FEBC11 !important;  /* UCSB official gold */
}

/* Sidebar styling with UCSB blue */
.css-1d391kg, .css-17eq0hr {
    background-color: #003660 !important;  /* UCSB official navy blue */
}

/* Alternative sidebar selectors (Streamlit versions may vary) */
section[data-testid="stSidebar"] {
    background-color: #003660 !important;  /* UCSB official navy blue */
    color: white !important;  /* White text for contrast */
}

/* Sidebar text styling - comprehensive coverage */
.css-1d391kg .stMarkdown, .css-17eq0hr .stMarkdown,
.css-1d391kg .stMarkdown p, .css-17eq0hr .stMarkdown p,
.css-1d391kg .stText, .css-17eq0hr .stText,
.css-1d391kg div, .css-17eq0hr div,
section[data-testid="stSidebar"] .stMarkdown,
section[data-testid="stSidebar"] .stMarkdown p,
section[data-testid="stSidebar"] .stText,
section[data-testid="stSidebar"] div,
section[data-testid="stSidebar"] span,
section[data-testid="stSidebar"] li {
    color: white !important;
}

/* Sidebar headers */
.css-1d391kg h1, .css-1d391kg h2, .css-1d391kg h3, .css-1d391kg h4,
.css-17eq0hr h1, .css-17eq0hr h2, .css-17eq0hr h3, .css-17eq0hr h4,
section[data-testid="stSidebar"] h1,
section[data-testid="stSidebar"] h2,
section[data-testid="stSidebar"] h3,
section[data-testid="stSidebar"] h4 {
    color: #FEBC11 !important;  /* Gold headers in sidebar */
    font-weight: bold !important;
}

/* Main content area styling for better readability */
.main .block-container {
    background-color: rgba(255, 255, 255, 0.95) !important;
    border-radius: 15px;
    padding: 2rem !important;
    margin-top: 1rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.main-header {
    font-size: 2.5rem;
    color: #003660;             /* UCSB navy blue */
    text-align: center;
    margin-bottom: 1rem;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.sub-header {
    font-size: 1.2rem;
    color: #003660;             /* UCSB navy blue for better contrast */
    text-align: center;
    margin-bottom: 2rem;
    font-weight: 500;
}

/* Status message styling for better visibility */
.stAlert {
    background-color: rgba(255, 255, 255, 0.95) !important;
    border-radius: 10px !important;
    border: 2px solid #003660 !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Success messages (green) with better visibility */
.stSuccess {
    background-color: rgba(212, 237, 218, 0.98) !important;
    color: #155724 !important;
    border: 2px solid #28a745 !important;
    font-weight: 600 !important;
}

/* Info messages with UCSB blue theme */
.stInfo {
    background-color: rgba(179, 205, 224, 0.98) !important;
    color: #003660 !important;
    border: 2px solid #003660 !important;
    font-weight: 600 !important;
}

/* Error messages */
.stError {
    background-color: rgba(248, 215, 218, 0.98) !important;
    color: #721c24 !important;
    border: 2px solid #dc3545 !important;
    font-weight: 600 !important;
}

/* Warning messages */
.stWarning {
    background-color: rgba(255, 243, 205, 0.98) !important;
    color: #856404 !important;
    border: 2px solid #ffc107 !important;
    font-weight: 600 !important;
}

.chat-message {
    padding: 1rem;
    border-radius: 10px;
    margin: 1rem 0;
    border-left: 4px solid #003660;
    background-color: rgba(255, 255, 255, 0.95);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.user-message {
    background-color: rgba(254, 188, 17, 0.15);  /* Light UCSB gold tint */
    border-left-color: #003660;
    border: 1px solid rgba(0, 54, 96, 0.2);
}

.bot-message {
    background-color: rgba(0, 54, 96, 0.08);  /* Light UCSB blue tint */
    border-left-color: #FEBC11;
    border: 1px solid rgba(254, 188, 17, 0.3);
}

.source-item {
    background-color: rgba(255, 255, 255, 0.95);
    padding: 0.75rem;
    margin: 0.3rem 0;
    border-radius: 8px;
    border-left: 4px solid #FEBC11;  /* UCSB gold accent */
    border: 1px solid rgba(0, 54, 96, 0.2);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.error-message {
    background-color: rgba(248, 215, 218, 0.98);
    color: #721c24;
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid #dc3545;
    border: 1px solid #dc3545;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.success-message {
    background-color: rgba(212, 237, 218, 0.98);
    color: #155724;
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid #28a745;
    border: 1px solid #28a745;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.metrics-container {
    background-color: rgba(255, 255, 255, 0.95);
    padding: 1.5rem;
    border-radius: 10px;
    margin: 1rem 0;
    border: 2px solid #003660;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Chat input styling for better visibility on gold background */
.stChatInput > div {
    background-color: rgba(255, 255, 255, 0.98) !important;
    border: 2px solid #003660 !important;
    border-radius: 25px !important;
}

.stChatInput input {
    color: #003660 !important;
    font-weight: 500 !important;
}

/* UPDATED: About expander styling to match button appearance */
.css-1d391kg .streamlit-expanderHeader,
.css-17eq0hr .streamlit-expanderHeader,
section[data-testid="stSidebar"] .streamlit-expanderHeader,
section[data-testid="stSidebar"] div[data-testid="stExpander"] summary {
    background-color: #FEBC11 !important;  /* Same as sidebar buttons */
    color: #003660 !important;  /* Same as sidebar buttons */
    border: 2px solid #FEBC11 !important;  /* Same as sidebar buttons */
    border-radius: 8px !important;  /* Same as sidebar buttons */
    font-weight: 600 !important;  /* Same as sidebar buttons */
    transition: all 0.3s ease !important;  /* Same as sidebar buttons */
    box-shadow: none !important;  /* Remove previous shadow */
    margin: 0.5rem 0 !important;
    padding: 0.75rem 1rem !important;
}

/* About expander header hover effect - match button hover */
.css-1d391kg .streamlit-expanderHeader:hover,
.css-17eq0hr .streamlit-expanderHeader:hover,
section[data-testid="stSidebar"] .streamlit-expanderHeader:hover,
section[data-testid="stSidebar"] div[data-testid="stExpander"] summary:hover {
    background-color: white !important;  /* Same as sidebar button hover */
    color: #003660 !important;  /* Same as sidebar button hover */
    border-color: white !important;  /* Same as sidebar button hover */
    transform: translateY(-1px) !important;  /* Same as sidebar button hover */
    box-shadow: 0 4px 8px rgba(255, 255, 255, 0.3) !important;  /* Same as sidebar button hover */
}

/* Expander content styling */
.css-1d391kg .streamlit-expanderContent,
.css-17eq0hr .streamlit-expanderContent,
section[data-testid="stSidebar"] .streamlit-expanderContent,
section[data-testid="stSidebar"] div[data-testid="stExpander"] div[role="region"] {
    background-color: rgba(0, 54, 96, 0.95) !important;
    color: white !important;
    border: 2px solid #FEBC11 !important;  /* Match expander header border */
    border-top: none !important;
    border-radius: 0 0 8px 8px !important;  /* Match button border radius */
    padding: 1rem !important;
    margin-top: -2px !important;
}

/* Ensure expander content text is white */
.css-1d391kg .streamlit-expanderContent *,
.css-17eq0hr .streamlit-expanderContent *,
section[data-testid="stSidebar"] .streamlit-expanderContent *,
section[data-testid="stSidebar"] div[data-testid="stExpander"] div[role="region"] * {
    color: white !important;
}

/* Alert messages in sidebar - consistent with main area styling */
.css-1d391kg .stAlert, .css-17eq0hr .stAlert,
section[data-testid="stSidebar"] .stAlert {
    background-color: rgba(212, 237, 218, 0.98) !important;
    color: #155724 !important;
    border: 2px solid #28a745 !important;
    font-weight: 600 !important;
    border-radius: 10px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    margin: 0.5rem 0 !important;
}

.css-1d391kg .stSuccess, .css-17eq0hr .stSuccess,
section[data-testid="stSidebar"] .stSuccess {
    background-color: rgba(212, 237, 218, 0.98) !important;
    color: #155724 !important;
    border: 2px solid #28a745 !important;
    font-weight: 600 !important;
}

.css-1d391kg .stError, .css-17eq0hr .stError,
section[data-testid="stSidebar"] .stError {
    background-color: rgba(248, 215, 218, 0.98) !important;
    color: #721c24 !important;
    border: 2px solid #dc3545 !important;
    font-weight: 600 !important;
}

.css-1d391kg .stWarning, .css-17eq0hr .stWarning,
section[data-testid="stSidebar"] .stWarning {
    background-color: rgba(255, 243, 205, 0.98) !important;
    color: #856404 !important;
    border: 2px solid #ffc107 !important;
    font-weight: 600 !important;
}

.css-1d391kg .stInfo, .css-17eq0hr .stInfo,
section[data-testid="stSidebar"] .stInfo {
    background-color: rgba(179, 205, 224, 0.98) !important;
    color: #003660 !important;
    border: 2px solid #003660 !important;
    font-weight: 600 !important;
}

/* Button styling adjustments */
.stButton > button {
    background-color: rgba(255, 255, 255, 0.95);
    border: 2px solid #003660;
    color: #003660;
    font-weight: 600;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.stButton > button:hover {
    background-color: #003660;
    color: #FEBC11;
    border-color: #003660;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* ALL SIDEBAR BUTTON STYLING - applies to sample questions, clear chat, restart system */
.css-1d391kg .stButton > button, .css-17eq0hr .stButton > button,
section[data-testid="stSidebar"] .stButton > button {
    background-color: #FEBC11 !important;
    color: #003660 !important;
    border: 2px solid #FEBC11 !important;
    font-weight: 600 !important;
    border-radius: 8px !important;
    transition: all 0.3s ease !important;
}

.css-1d391kg .stButton > button:hover, .css-17eq0hr .stButton > button:hover,
section[data-testid="stSidebar"] .stButton > button:hover {
    background-color: white !important;
    color: #003660 !important;
    border-color: white !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 8px rgba(255, 255, 255, 0.3) !important;
}

/* Metric styling */
.stMetric {
    background-color: rgba(255, 255, 255, 0.9) !important;
    padding: 1rem !important;
    border-radius: 10px !important;
    border: 1px solid rgba(0, 54, 96, 0.2) !important;
}

.stMetric label {
    color: #003660 !important;
    font-weight: 600 !important;
}

.stMetric div[data-testid="metric-container"] > div {
    color: #003660 !important;
    font-weight: bold !important;
}

/* Override any remaining dark text in sidebar - but preserve expander headers */
.css-1d391kg *, .css-17eq0hr *,
section[data-testid="stSidebar"] * {
    color: white !important;
}

/* But keep section headers gold */
.css-1d391kg h1, .css-1d391kg h2, .css-1d391kg h3, .css-1d391kg h4,
.css-17eq0hr h1, .css-17eq0hr h2, .css-17eq0hr h3, .css-17eq0hr h4,
section[data-testid="stSidebar"] h1,
section[data-testid="stSidebar"] h2,
section[data-testid="stSidebar"] h3,
section[data-testid="stSidebar"] h4 {
    color: #FEBC11 !important;  /* Gold headers in sidebar */
    font-weight: bold !important;
}

/* Exception: Expander headers should use the button colors (gold background, navy text) */
.css-1d391kg .streamlit-expanderHeader *,
.css-17eq0hr .streamlit-expanderHeader *,
section[data-testid="stSidebar"] .streamlit-expanderHeader *,
section[data-testid="stSidebar"] div[data-testid="stExpander"] summary * {
    color: #003660 !important;  /* Navy text like buttons */
    font-weight: 600 !important;
}

/* Caption text */
.stCaption {
    color: #666 !important;
    font-weight: 500 !important;
}